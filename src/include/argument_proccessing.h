//{---------------------------
//! @file argument_proccessing.h
//{---------------------------

#ifndef ARGUMENT_H
#define ARGUMENT_H

#include <stdio.h>
#include <string.h>
#include <assert.h>
#include <stdlib.h>

#include "log.h"


/// ????????? ??? ???????? ???????? ?????????? ????????? ??????
struct OptionDef
{
    const char* name;

    int (*opt_handle)(int argc, const char* argv[], int arg_indx, void *VariableStruct);
};


struct GeneralVariables
{
    const char *input_file_name;
    
    const char *output_file_name;

    int sort_mode; 
};


enum sorting_modes
{
    BUBBLE_SORT = 1,
    QUICK_SORT  = 2,
    MERGE_SORT
};


/// \brief   ??????? ????????? ?????????? ????????? ??????
/// \arg     argc - ?????????? ?????????? ????????? ?????? ??? ??????? .exe ?????
/// \arg     argv - ?????? ???????? ??????????
/// \arg     options - ?????? ???????? ? ????????? ????????? ? ??????????????? ??? ????????
/// \arg     options_range - ?????? ??????? ??????????
/// \note    ?????????? ????????? ???? ????????? ?????????? ?? ????? ??????? ??????????.
/// \warning ??????? ?? ????? ?????????? ????? ?????? ???????? ?????? ???????.

void process_arguments (int                    argc,      const char* argv[],
                       const struct OptionDef  Options[], int         options_range,
                       GeneralVariables       *GeneralV);

/// \brief ??????? ??? ????????? ????????? ????????? ?????? -h, /h, --help
/// \arg     argc - ?????????? ?????????? ????????? ?????? ??? ??????? .exe ?????
/// \arg     argv - ?????? ???????? ??????????

int print_help(int argc, const char* argv[], int pos, void* VariableStruct);

int change_input_name (int argc, const char* argv[], int pos, void* VariableStruct);

int change_output_name (int argc, const char* argv[], int pos, void* VariableStruct);

int choose_sort (int argc, const char* argv[], int pos, void* VariableStruct);

//-----------------------------------------------------------------------------

#endif
